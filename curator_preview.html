<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="curator-model" content="ollama/phi">
    <meta name="curator-mode" content="dry-run">
    <meta name="curator-timestamp" content="2026-02-25 21:09:43">
    <meta name="curator-articles" content="20">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;1,400&family=DM+Mono:wght@400;500&family=Source+Sans+3:wght@400;500;600&display=swap" rel="stylesheet">
    <title>Morning Briefing - February 25, 2026</title>
    <style>
        :root {
            --bg: #f5f0e8;
            --bg-texture: #ede8df;
            --surface: #faf7f2;
            --surface2: #f0ebe0;
            --border: #ddd6c8;
            --border2: #c8bfaf;
            --text: #2a2418;
            --text-muted: #6b5f4e;
            --text-dim: #9e9080;
            --accent: #8b5e2a;
            --accent-dim: rgba(139,94,42,0.08);
            --accent-glow: rgba(139,94,42,0.18);
            --shadow: rgba(42,36,24,0.08);
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Source Sans 3', sans-serif;
            background: var(--bg);
            background-image:
                radial-gradient(ellipse at 20% 0%, rgba(210,190,160,0.4) 0%, transparent 60%),
                radial-gradient(ellipse at 80% 100%, rgba(200,180,150,0.3) 0%, transparent 50%);
            color: var(--text);
            min-height: 100vh;
            font-size: 14px;
            line-height: 1.5;
        }

        /* ‚îÄ‚îÄ Header ‚îÄ‚îÄ */
        header {
            border-bottom: 1px solid var(--border);
            padding: 0 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 60px;
            position: sticky;
            top: 0;
            background: rgba(245,240,232,0.94);
            backdrop-filter: blur(12px);
            z-index: 100;
            box-shadow: 0 1px 0 var(--border), 0 2px 8px var(--shadow);
        }

        .header-left {
            display: flex;
            align-items: baseline;
            gap: 16px;
        }

        .logo {
            font-family: 'Playfair Display', serif;
            font-size: 20px;
            color: var(--accent);
            letter-spacing: -0.02em;
            text-decoration: none;
        }

        .logo-sub {
            font-family: 'DM Mono', monospace;
            font-size: 11px;
            color: var(--text-dim);
            letter-spacing: 0.08em;
            text-transform: uppercase;
        }

        .header-nav {
            display: flex;
            gap: 4px;
        }

        .nav-link {
            font-family: 'DM Mono', monospace;
            font-size: 11px;
            color: var(--text-muted);
            text-decoration: none;
            padding: 6px 14px;
            border-radius: 6px;
            letter-spacing: 0.05em;
            transition: all 0.15s;
            border: 1px solid transparent;
        }

        .nav-link:hover {
            color: var(--text);
            background: var(--surface2);
        }

        .nav-link.active {
            color: var(--accent);
            background: var(--accent-dim);
            border-color: rgba(139,94,42,0.2);
        }

        /* ‚îÄ‚îÄ Main Content ‚îÄ‚îÄ */
        main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 32px;
        }

        /* ‚îÄ‚îÄ Table ‚îÄ‚îÄ */
        .briefing-table {
            border: 1px solid var(--border);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 12px var(--shadow);
            background: var(--surface);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        thead {
            background: var(--bg-texture);
            border-bottom: 2px solid var(--border);
        }

        th {
            padding: 11px 16px;
            text-align: left;
            font-family: 'DM Mono', monospace;
            font-size: 10px;
            font-weight: 500;
            color: var(--text-dim);
            letter-spacing: 0.08em;
            text-transform: uppercase;
            white-space: nowrap;
        }

        tbody tr {
            border-bottom: 1px solid var(--border);
            transition: background 0.1s;
            background: var(--surface);
        }

        tbody tr:last-child {
            border-bottom: none;
        }

        tbody tr:hover {
            background: rgba(139,94,42,0.04);
        }

        td {
            padding: 14px 16px;
            vertical-align: top;
        }

        .col-rank {
            width: 40px;
            text-align: center;
        }

        .col-category {
            width: 110px;
        }

        .col-source {
            width: 140px;
        }

        .col-title {
            max-width: 380px;
        }

        .col-time {
            width: 80px;
        }

        .col-score {
            width: 120px;
        }

        .col-actions {
            width: 110px;
            text-align: center;
            white-space: nowrap;
        }

        .rank-badge {
            display: inline-block;
            background: var(--accent);
            color: white;
            padding: 3px 9px;
            border-radius: 4px;
            font-family: 'DM Mono', monospace;
            font-size: 11px;
            font-weight: 500;
        }

        .cat-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'DM Mono', monospace;
            font-size: 10px;
            letter-spacing: 0.04em;
            font-weight: 500;
            white-space: nowrap;
            border: 1px solid transparent;
        }

        .cat-geo_major, .cat-geo_minor {
            background: rgba(139,69,19,0.08);
            color: var(--geo);
            border-color: rgba(139,69,19,0.2);
        }

        .cat-fiscal {
            background: rgba(26,74,122,0.08);
            color: var(--fiscal);
            border-color: rgba(26,74,122,0.2);
        }

        .cat-monetary {
            background: rgba(74,42,122,0.08);
            color: var(--monetary);
            border-color: rgba(74,42,122,0.2);
        }

        .cat-geo_other,
        .cat-technology,
        .cat-other,
        .cat-unknown {
            background: rgba(107,95,78,0.08);
            color: var(--other);
            border-color: rgba(107,95,78,0.2);
        }

        .article-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--text);
            line-height: 1.4;
            margin-bottom: 0;
        }

        .article-title a {
            color: var(--text);
            text-decoration: none;
        }

        .article-title a:hover {
            color: var(--accent);
        }

        .source-name {
            font-size: 12px;
            color: var(--text-muted);
            font-weight: 500;
        }

        .time-ago {
            font-family: 'DM Mono', monospace;
            font-size: 11px;
            color: var(--text-dim);
        }

        .score-val {
            font-family: 'DM Mono', monospace;
            font-size: 13px;
            font-weight: 500;
            color: var(--text);
        }

        .score-bar {
            height: 2px;
            background: var(--border);
            border-radius: 2px;
            margin-top: 4px;
            width: 48px;
            overflow: hidden;
        }

        .score-fill {
            height: 100%;
            border-radius: 2px;
            background: var(--accent);
        }

        .score-details {
            font-family: 'DM Mono', monospace;
            font-size: 10px;
            color: var(--text-dim);
            margin-top: 2px;
        }

        .action-buttons {
            display: flex;
            gap: 6px;
            justify-content: center;
        }

        .action-btn {
            padding: 4px 8px;
            border: 1px solid transparent;
            border-radius: 4px;
            cursor: pointer;
            font-size: 11px;
            font-weight: 500;
            transition: all 0.15s;
            background: var(--surface2);
            color: var(--text-muted);
        }

        .btn-like {
            background: rgba(46,125,82,0.08);
            color: #2e7d52;
            border-color: rgba(46,125,82,0.2);
        }

        .btn-like:hover {
            background: rgba(46,125,82,0.15);
            transform: scale(1.05);
        }

        .btn-dislike {
            background: rgba(180,60,60,0.08);
            color: #b43c3c;
            border-color: rgba(180,60,60,0.2);
        }

        .btn-dislike:hover {
            background: rgba(180,60,60,0.15);
            transform: scale(1.05);
        }

        .btn-save {
            background: rgba(26,92,138,0.08);
            color: #1a5c8a;
            border-color: rgba(26,92,138,0.2);
        }

        .btn-save:hover {
            background: rgba(26,92,138,0.15);
            transform: scale(1.05);
        }
    </style>
</head>
<body data-run-mode="dry-run">
<header class="curator-header">
  <div class="header-left">
    <a href="/" class="logo">üìö Curator</a>
    <span class="logo-sub">Morning Briefing</span>
  </div>
  <nav class="header-nav">
    <a href="/" class="nav-link active">Daily</a>
    <a href="curator_library.html" class="nav-link">Library</a>
    <a href="curator_priorities.html" class="nav-link">üéØ Priorities</a>
    <a href="interests/2026/deep-dives/index.html" class="nav-link">Deep Dives</a>
  </nav>
</header>

<main>
    <div class="briefing-table">
        <table>
            <thead>
                <tr>
                    <th class="col-rank">#</th>
                    <th class="col-category">Category</th>
                    <th class="col-source">Source</th>
                    <th class="col-title">Title</th>
                    <th class="col-time">Time</th>
                    <th class="col-score">Score</th>
                    <th class="col-actions">Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr data-hash-id="d144f" 
                        data-rank="1"
                        data-title="\&#x27;The Mirage\&#x27; Of Manufactured Calm And The Disconnect Between Markets And Reality"
                        data-url="https://www.zerohedge.com/markets/mirage-manufactured-calm-and-disconnect-between-markets-and-reality"
                        data-source="ZeroHedge"
                        data-category="geo_major">
                    <td class="col-rank"><span class="rank-badge">1</span></td>
                    <td class="col-category"><span class="cat-badge cat-geo_major">geo_major</span></td>
                    <td class="col-source"><span class="source-name">ZeroHedge</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.zerohedge.com/markets/mirage-manufactured-calm-and-disconnect-between-markets-and-reality" target="_blank">'The Mirage' Of Manufactured Calm And The Disconnect Between Markets And Reality</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">19.2</div>
                        <div class="score-bar"><div class="score-fill" style="width:96%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="e3057" 
                        data-rank="2"
                        data-title="The Tigray Powder Keg in the Horn of Africa"
                        data-url="https://geopoliticalfutures.com/the-tigray-powder-keg-in-the-horn-of-africa/"
                        data-source="Geopolitical Futures"
                        data-category="geo_major">
                    <td class="col-rank"><span class="rank-badge">2</span></td>
                    <td class="col-category"><span class="cat-badge cat-geo_major">geo_major</span></td>
                    <td class="col-source"><span class="source-name">Geopolitical Futures</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://geopoliticalfutures.com/the-tigray-powder-keg-in-the-horn-of-africa/" target="_blank">The Tigray Powder Keg in the Horn of Africa</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">14.7</div>
                        <div class="score-bar"><div class="score-fill" style="width:74%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="2d7c5" 
                        data-rank="3"
                        data-title="10 Wednesday AM Reads"
                        data-url="https://ritholtz.com/2026/02/10-wednesday-am-reads-364/"
                        data-source="The Big Picture"
                        data-category="fiscal">
                    <td class="col-rank"><span class="rank-badge">3</span></td>
                    <td class="col-category"><span class="cat-badge cat-fiscal">fiscal</span></td>
                    <td class="col-source"><span class="source-name">The Big Picture</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://ritholtz.com/2026/02/10-wednesday-am-reads-364/" target="_blank">10 Wednesday AM Reads</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">6.8</div>
                        <div class="score-bar"><div class="score-fill" style="width:34%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="1ef8d" 
                        data-rank="4"
                        data-title="Iran, US set to hold talks as Trump threatens force, imposes sanctions"
                        data-url="https://www.aljazeera.com/news/2026/2/26/iran-us-set-to-hold-talks-as-trump-threatens-force-imposes-sanctions?traffic_source=rss"
                        data-source="Al Jazeera"
                        data-category="geo_other">
                    <td class="col-rank"><span class="rank-badge">4</span></td>
                    <td class="col-category"><span class="cat-badge cat-geo_other">geo_other</span></td>
                    <td class="col-source"><span class="source-name">Al Jazeera</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.aljazeera.com/news/2026/2/26/iran-us-set-to-hold-talks-as-trump-threatens-force-imposes-sanctions?traffic_source=rss" target="_blank">Iran, US set to hold talks as Trump threatens force, imposes sanctions</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">5.5</div>
                        <div class="score-bar"><div class="score-fill" style="width:27%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="c499f" 
                        data-rank="5"
                        data-title="Cuba Says It Killed Four People Who Opened Fire From a US-Registered Speed Boat"
                        data-url="https://news.antiwar.com/2026/02/25/cuba-says-it-killed-four-people-who-opened-fire-from-a-us-registered-speed-boat/?utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=cuba-says-it-killed-four-people-who-opened-fire-from-a-us-registered-speed-boat"
                        data-source="Antiwar.com"
                        data-category="other">
                    <td class="col-rank"><span class="rank-badge">5</span></td>
                    <td class="col-category"><span class="cat-badge cat-other">other</span></td>
                    <td class="col-source"><span class="source-name">Antiwar.com</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://news.antiwar.com/2026/02/25/cuba-says-it-killed-four-people-who-opened-fire-from-a-us-registered-speed-boat/?utm_source=rss&utm_medium=rss&utm_campaign=cuba-says-it-killed-four-people-who-opened-fire-from-a-us-registered-speed-boat" target="_blank">Cuba Says It Killed Four People Who Opened Fire From a US-Registered Speed Boat</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">5.1</div>
                        <div class="score-bar"><div class="score-fill" style="width:26%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="d2766" 
                        data-rank="6"
                        data-title="Winter Olympics closing ceremony draws curtain on Games"
                        data-url="https://www.dw.com/en/winter-olympics-closing-ceremony-draws-curtain-on-games/live-76079783?maca=en-rss-en-all-1573-xml-mrss"
                        data-source="Deutsche Welle"
                        data-category="monetary">
                    <td class="col-rank"><span class="rank-badge">6</span></td>
                    <td class="col-category"><span class="cat-badge cat-monetary">monetary</span></td>
                    <td class="col-source"><span class="source-name">Deutsche Welle</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.dw.com/en/winter-olympics-closing-ceremony-draws-curtain-on-games/live-76079783?maca=en-rss-en-all-1573-xml-mrss" target="_blank">Winter Olympics closing ceremony draws curtain on Games</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">3.6</div>
                        <div class="score-bar"><div class="score-fill" style="width:18%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="95aa3" 
                        data-rank="7"
                        data-title="Tracking Banking Access Using the Bank On National Data Hub"
                        data-url="https://www.stlouisfed.org/on-the-economy/2026/feb/tracking-banking-access-using-bank-on-national-data-hub"
                        data-source="Fed On The Economy"
                        data-category="other">
                    <td class="col-rank"><span class="rank-badge">7</span></td>
                    <td class="col-category"><span class="cat-badge cat-other">other</span></td>
                    <td class="col-source"><span class="source-name">Fed On The Economy</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.stlouisfed.org/on-the-economy/2026/feb/tracking-banking-access-using-bank-on-national-data-hub" target="_blank">Tracking Banking Access Using the Bank On National Data Hub</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">0.6</div>
                        <div class="score-bar"><div class="score-fill" style="width:3%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="5cc81" 
                        data-rank="8"
                        data-title="Iran-US row; All military options bad for Trump. Diplomacy best option"
                        data-url="https://theduran.com/iran-us-row-all-military-options-bad-for-trump-diplomacy-best-option/"
                        data-source="The Duran"
                        data-category="geo_other">
                    <td class="col-rank"><span class="rank-badge">8</span></td>
                    <td class="col-category"><span class="cat-badge cat-geo_other">geo_other</span></td>
                    <td class="col-source"><span class="source-name">The Duran</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://theduran.com/iran-us-row-all-military-options-bad-for-trump-diplomacy-best-option/" target="_blank">Iran-US row; All military options bad for Trump. Diplomacy best option</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">0.2</div>
                        <div class="score-bar"><div class="score-fill" style="width:1%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="d3299" 
                        data-rank="9"
                        data-title="‚ÄûDie Idee, dass China auf Russland einwirkt, war schon in der letzten Regierung naiv‚Äú"
                        data-url="https://www.welt.de/videos/video699f358e457c5afd864e9229/sicherheitsexperte-nico-lange-die-idee-dass-china-auf-russland-einwirkt-war-schon-in-der-letzten-regierung-naiv.html"
                        data-source="Die Welt"
                        data-category="geo_major">
                    <td class="col-rank"><span class="rank-badge">9</span></td>
                    <td class="col-category"><span class="cat-badge cat-geo_major">geo_major</span></td>
                    <td class="col-source"><span class="source-name">Die Welt</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.welt.de/videos/video699f358e457c5afd864e9229/sicherheitsexperte-nico-lange-die-idee-dass-china-auf-russland-einwirkt-war-schon-in-der-letzten-regierung-naiv.html" target="_blank">‚ÄûDie Idee, dass China auf Russland einwirkt, war schon in der letzten Regierung naiv‚Äú</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">-2.7</div>
                        <div class="score-bar"><div class="score-fill" style="width:0%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="7f21a" 
                        data-rank="10"
                        data-title="Monthly Statement of the Public Debt, January 31, 2026"
                        data-url="https://fiscaldata.treasury.gov/datasets/monthly-statement-public-debt/summary-of-treasury-securities-outstanding"
                        data-source="Treasury MSPD"
                        data-category="fiscal">
                    <td class="col-rank"><span class="rank-badge">10</span></td>
                    <td class="col-category"><span class="cat-badge cat-fiscal">fiscal</span></td>
                    <td class="col-source"><span class="source-name">Treasury MSPD</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://fiscaldata.treasury.gov/datasets/monthly-statement-public-debt/summary-of-treasury-securities-outstanding" target="_blank">Monthly Statement of the Public Debt, January 31, 2026</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">-3.9</div>
                        <div class="score-bar"><div class="score-fill" style="width:0%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="8724d" 
                        data-rank="11"
                        data-title="Goldman\&#x27;s Top DEI Exec Out Days After Bank Scraps Woke Board Policy"
                        data-url="https://www.zerohedge.com/political/goldmans-top-dei-exec-out-days-after-bank-scraps-woke-board-policy"
                        data-source="ZeroHedge"
                        data-category="monetary">
                    <td class="col-rank"><span class="rank-badge">11</span></td>
                    <td class="col-category"><span class="cat-badge cat-monetary">monetary</span></td>
                    <td class="col-source"><span class="source-name">ZeroHedge</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.zerohedge.com/political/goldmans-top-dei-exec-out-days-after-bank-scraps-woke-board-policy" target="_blank">Goldman's Top DEI Exec Out Days After Bank Scraps Woke Board Policy</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">-7.1</div>
                        <div class="score-bar"><div class="score-fill" style="width:0%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="84707" 
                        data-rank="12"
                        data-title="Democrats Demand Answers for Federal Prison Staffing Shortage After Corrections Officers Flee for ICE Jobs"
                        data-url="https://www.propublica.org/article/bop-prison-staffing-shortages-ice-democrats-william-marshall"
                        data-source="ProPublica"
                        data-category="other">
                    <td class="col-rank"><span class="rank-badge">12</span></td>
                    <td class="col-category"><span class="cat-badge cat-other">other</span></td>
                    <td class="col-source"><span class="source-name">ProPublica</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.propublica.org/article/bop-prison-staffing-shortages-ice-democrats-william-marshall" target="_blank">Democrats Demand Answers for Federal Prison Staffing Shortage After Corrections Officers Flee for ICE Jobs</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">-12.9</div>
                        <div class="score-bar"><div class="score-fill" style="width:0%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="e175f" 
                        data-rank="13"
                        data-title="Israel\&#x27;s Guantanamo: Israeli Treatment of Palestinian Prisons in the Spotlight"
                        data-url="https://www.spiegel.de/international/world/israels-guantanamo-israeli-treatment-of-palestinian-prisons-in-the-spotlight-a-427ae2c3-0584-4609-8eb2-e9b45a09c032#ref=rss"
                        data-source="Spiegel International"
                        data-category="geo_other">
                    <td class="col-rank"><span class="rank-badge">13</span></td>
                    <td class="col-category"><span class="cat-badge cat-geo_other">geo_other</span></td>
                    <td class="col-source"><span class="source-name">Spiegel International</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.spiegel.de/international/world/israels-guantanamo-israeli-treatment-of-palestinian-prisons-in-the-spotlight-a-427ae2c3-0584-4609-8eb2-e9b45a09c032#ref=rss" target="_blank">Israel's Guantanamo: Israeli Treatment of Palestinian Prisons in the Spotlight</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">-18.0</div>
                        <div class="score-bar"><div class="score-fill" style="width:0%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="3add2" 
                        data-rank="14"
                        data-title="University cuts \&#x27;damaging Berlin\&#x27;s cultural standing\&#x27;"
                        data-url="https://www.dw.com/en/university-cuts-damaging-berlin-s-cultural-standing/a-76103173?maca=en-rss-en-all-1573-xml-mrss"
                        data-source="Deutsche Welle"
                        data-category="fiscal">
                    <td class="col-rank"><span class="rank-badge">14</span></td>
                    <td class="col-category"><span class="cat-badge cat-fiscal">fiscal</span></td>
                    <td class="col-source"><span class="source-name">Deutsche Welle</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.dw.com/en/university-cuts-damaging-berlin-s-cultural-standing/a-76103173?maca=en-rss-en-all-1573-xml-mrss" target="_blank">University cuts 'damaging Berlin's cultural standing'</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">-22.8</div>
                        <div class="score-bar"><div class="score-fill" style="width:0%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="64074" 
                        data-rank="15"
                        data-title="Vier Jahre Krieg: Langzeitinflation"
                        data-url="https://www.faz.net/aktuell/finanzen/pro-finanzen/langzeitinflation-110843161.html"
                        data-source="FAZ"
                        data-category="geo_major">
                    <td class="col-rank"><span class="rank-badge">15</span></td>
                    <td class="col-category"><span class="cat-badge cat-geo_major">geo_major</span></td>
                    <td class="col-source"><span class="source-name">FAZ</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.faz.net/aktuell/finanzen/pro-finanzen/langzeitinflation-110843161.html" target="_blank">Vier Jahre Krieg: Langzeitinflation</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">-25.3</div>
                        <div class="score-bar"><div class="score-fill" style="width:0%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="5edd3" 
                        data-rank="16"
                        data-title="Olin Corp VP Carter Deon sells $154k in shares"
                        data-url="https://www.investing.com/news/insider-trading-news/olin-corp-vp-carter-deon-sells-154k-in-shares-93CH-4526446"
                        data-source="Investing.com"
                        data-category="other">
                    <td class="col-rank"><span class="rank-badge">16</span></td>
                    <td class="col-category"><span class="cat-badge cat-other">other</span></td>
                    <td class="col-source"><span class="source-name">Investing.com</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.investing.com/news/insider-trading-news/olin-corp-vp-carter-deon-sells-154k-in-shares-93CH-4526446" target="_blank">Olin Corp VP Carter Deon sells $154k in shares</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">-35.5</div>
                        <div class="score-bar"><div class="score-fill" style="width:0%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="98fa6" 
                        data-rank="17"
                        data-title="US Imposes New Iran Sanctions Ahead of Geneva Talks"
                        data-url="https://news.antiwar.com/2026/02/25/us-imposes-new-iran-sanctions-ahead-of-geneva-talks/?utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=us-imposes-new-iran-sanctions-ahead-of-geneva-talks"
                        data-source="Antiwar.com"
                        data-category="geo_other">
                    <td class="col-rank"><span class="rank-badge">17</span></td>
                    <td class="col-category"><span class="cat-badge cat-geo_other">geo_other</span></td>
                    <td class="col-source"><span class="source-name">Antiwar.com</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://news.antiwar.com/2026/02/25/us-imposes-new-iran-sanctions-ahead-of-geneva-talks/?utm_source=rss&utm_medium=rss&utm_campaign=us-imposes-new-iran-sanctions-ahead-of-geneva-talks" target="_blank">US Imposes New Iran Sanctions Ahead of Geneva Talks</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">-44.1</div>
                        <div class="score-bar"><div class="score-fill" style="width:0%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="13b3a" 
                        data-rank="18"
                        data-title="A Look at Recent Developments in the Federal Fiscal Balance"
                        data-url="https://www.stlouisfed.org/on-the-economy/2026/feb/look-recent-developments-federal-fiscal-balance"
                        data-source="Fed On The Economy"
                        data-category="fiscal">
                    <td class="col-rank"><span class="rank-badge">18</span></td>
                    <td class="col-category"><span class="cat-badge cat-fiscal">fiscal</span></td>
                    <td class="col-source"><span class="source-name">Fed On The Economy</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.stlouisfed.org/on-the-economy/2026/feb/look-recent-developments-federal-fiscal-balance" target="_blank">A Look at Recent Developments in the Federal Fiscal Balance</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">-48.0</div>
                        <div class="score-bar"><div class="score-fill" style="width:0%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="52beb" 
                        data-rank="19"
                        data-title="CME Halts All Metals, NatGas Markets Due To &quot;Technical Issues&quot;"
                        data-url="https://www.zerohedge.com/markets/cme-halts-all-metals-natgas-markets-due-technical-issues"
                        data-source="ZeroHedge"
                        data-category="monetary">
                    <td class="col-rank"><span class="rank-badge">19</span></td>
                    <td class="col-category"><span class="cat-badge cat-monetary">monetary</span></td>
                    <td class="col-source"><span class="source-name">ZeroHedge</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://www.zerohedge.com/markets/cme-halts-all-metals-natgas-markets-due-technical-issues" target="_blank">CME Halts All Metals, NatGas Markets Due To "Technical Issues"</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">-48.4</div>
                        <div class="score-bar"><div class="score-fill" style="width:0%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
                <tr data-hash-id="f0564" 
                        data-rank="20"
                        data-title="Daily Memo: Starlink Disruption in South China Sea, Russia‚Äôs Footprint in Africa"
                        data-url="https://geopoliticalfutures.com/daily-memo-starlink-disruption-in-south-china-sea-russias-footprint-in-africa/"
                        data-source="Geopolitical Futures"
                        data-category="geo_major">
                    <td class="col-rank"><span class="rank-badge">20</span></td>
                    <td class="col-category"><span class="cat-badge cat-geo_major">geo_major</span></td>
                    <td class="col-source"><span class="source-name">Geopolitical Futures</span></td>
                    <td class="col-title">
                        <div class="article-title">
                            <a href="https://geopoliticalfutures.com/daily-memo-starlink-disruption-in-south-china-sea-russias-footprint-in-africa/" target="_blank">Daily Memo: Starlink Disruption in South China Sea, Russia‚Äôs Footprint in Africa</a>
                        </div>
                    </td>
                    <td class="col-time"><span class="time-ago">N/A</span></td>
                    <td class="col-score">
                        <div class="score-val">-63.3</div>
                        <div class="score-bar"><div class="score-fill" style="width:0%"></div></div>
                    </td>
                    <td class="col-actions">
                        <div class="action-buttons">
                            <button class="action-btn btn-like" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëç</button>
                            <button class="action-btn btn-dislike" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üëé</button>
                            <button class="action-btn btn-save" title="Dry run ‚Äî buttons disabled" disabled style="opacity: 0.5; cursor: not-allowed;">üíæ</button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</main>
    
    <script>
    function showFeedback(button, action, rank) {
        console.log('showFeedback called:', action, rank);
        
        // Get article data from row data attributes
        const row = button.closest('tr');
        const articleData = {
            id: row.dataset.hashId || `row-${rank}`,
            title: row.dataset.title || 'Unknown',
            link: row.dataset.url || '#',
            source: row.dataset.source || 'Unknown',
            category: row.dataset.category || 'other'
        };
        
        console.log('Article data:', articleData);
        
        // Immediate visual feedback
        button.style.opacity = '0.3';
        button.style.cursor = 'not-allowed';
        button.disabled = true;
        
        // Send to feedback server with full article data (POST)
        fetch('http://localhost:8765/feedback', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                action: action,
                rank: rank,
                article: articleData
            })
        })
            .then(response => {
                console.log('Response status:', response.status);
                return response.json();
            })
            .then(data => {
                console.log('Response data:', data);
                
                if (data.success) {
                    // Permanent grayed-out state with checkmark - STAY DISABLED
                    button.style.opacity = '0.4';
                    button.innerHTML = button.textContent + ' ‚úì';
                    button.style.color = '#10b981';
                    button.disabled = true;  // Keep disabled permanently
                    button.style.cursor = 'not-allowed';
                    
                    // Show toast notification
                    showToast(data.message || 'Article #' + rank + ' ' + action + 'd', 'success');
                    
                    // If liked or saved, add deep dive button
                    if (action === 'like' || action === 'save') {
                        const hashId = button.closest('tr').dataset.hashId;
                        addDeepDiveButton(rank, hashId);
                    }
                } else {
                    // Re-enable on error
                    button.style.opacity = '1';
                    button.style.cursor = 'pointer';
                    button.disabled = false;
                    showToast(data.message || 'Error saving feedback', 'error');
                }
            })
            .catch(error => {
                console.error('Feedback error:', error);
                button.style.opacity = '1';
                button.style.cursor = 'pointer';
                button.disabled = false;
                showToast('Server error - is curator_server.py running?', 'error');
            });
    }
    
    function showToast(message, type) {
        type = type || 'success';
        console.log('showToast:', message, type);
        
        const toast = document.createElement('div');
        toast.textContent = message;
        
        var bgColor = (type === 'error') ? '#ef4444' : '#10b981';
        toast.style.cssText = 'position: fixed; top: 20px; right: 20px; background: ' + bgColor + '; color: white; padding: 12px 20px; border-radius: 8px; font-weight: 500; font-size: 14px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 9999; opacity: 0; transform: translateY(-20px); transition: all 0.3s ease;';
        
        document.body.appendChild(toast);
        console.log('Toast added to body');
        
        // Animate in
        requestAnimationFrame(function() {
            requestAnimationFrame(function() {
                toast.style.opacity = '1';
                toast.style.transform = 'translateY(0)';
            });
        });
        
        // Animate out after 2.5 seconds
        setTimeout(function() {
            toast.style.opacity = '0';
            toast.style.transform = 'translateY(-20px)';
            setTimeout(function() {
                if (toast.parentNode) {
                    document.body.removeChild(toast);
                }
            }, 300);
        }, 2500);
    }
    
    function showDeepDiveModal(rank, hashId, diveBtn) {
        // Create modal overlay
        var overlay = document.createElement('div');
        overlay.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 10000; display: flex; align-items: center; justify-content: center;';
        
        // Create modal
        var modal = document.createElement('div');
        modal.style.cssText = 'background: white; padding: 30px; border-radius: 12px; max-width: 500px; width: 90%; box-shadow: 0 4px 20px rgba(0,0,0,0.3);';
        
        modal.innerHTML = '<h2 style="margin: 0 0 20px 0; color: #2c3e50;">Deep Dive Analysis</h2>' +
            '<p style="color: #666; margin-bottom: 20px;">This generates a research briefing with bibliography tailored to YOUR interests.</p>' +
            '<label style="display: block; margin-bottom: 8px; font-weight: 600; color: #2c3e50;">What interests you about this article?</label>' +
            '<textarea id="interest-input" placeholder="e.g., Geopolitical implications, economic impact, contrarian perspectives..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; min-height: 80px; font-family: inherit; margin-bottom: 20px; box-sizing: border-box;"></textarea>' +
            '<label style="display: block; margin-bottom: 8px; font-weight: 600; color: #2c3e50;">Specific focus areas? (optional)</label>' +
            '<input id="focus-input" type="text" placeholder="e.g., Historical precedents, key players, data sources..." style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; font-family: inherit; margin-bottom: 20px; box-sizing: border-box;">' +
            '<div style="display: flex; gap: 10px; justify-content: flex-end;">' +
            '<button id="modal-cancel" style="padding: 10px 20px; border: 1px solid #ddd; background: white; border-radius: 6px; cursor: pointer; font-weight: 500;">Cancel</button>' +
            '<button id="modal-submit" style="padding: 10px 20px; border: none; background: #f39c12; color: white; border-radius: 6px; cursor: pointer; font-weight: 500;">Generate (~30s, $0.15)</button>' +
            '</div>';
        
        overlay.appendChild(modal);
        document.body.appendChild(overlay);
        
        // Focus on interest input
        document.getElementById('interest-input').focus();
        
        // Handle cancel
        document.getElementById('modal-cancel').onclick = function() {
            document.body.removeChild(overlay);
        };
        
        // Handle submit
        document.getElementById('modal-submit').onclick = function() {
            var interest = document.getElementById('interest-input').value.trim();
            var focus = document.getElementById('focus-input').value.trim();
            
            if (!interest) {
                alert('Please describe what interests you about this article.');
                return;
            }
            
            // Close modal
            document.body.removeChild(overlay);
            
            // Update button and trigger deep dive
            diveBtn.disabled = true;
            diveBtn.textContent = '‚è≥ Analyzing...';
            diveBtn.style.opacity = '0.6';
            
            // Send to server with hash_id, interest and focus
            var url = 'http://localhost:8765/deepdive?hash_id=' + hashId + '&interest=' + encodeURIComponent(interest);
            if (focus) {
                url += '&focus=' + encodeURIComponent(focus);
            }
            
            fetch(url)
                .then(function(response) { return response.json(); })
                .then(function(data) {
                    if (data.success && data.html_path) {
                        window.open(data.html_path, '_blank');
                        diveBtn.textContent = '‚úÖ View Again';
                        diveBtn.style.background = '#27ae60';
                        diveBtn.disabled = false;
                        diveBtn.style.opacity = '1';
                        diveBtn.onclick = function() { window.open(data.html_path, '_blank'); };
                    } else {
                        diveBtn.textContent = '‚úÖ Done';
                        diveBtn.disabled = false;
                        diveBtn.style.opacity = '1';
                        showToast(data.message || 'Deep dive complete!', 'success');
                    }
                })
                .catch(function(error) {
                    console.error('Deep dive error:', error);
                    diveBtn.textContent = '‚ùå Failed';
                    diveBtn.style.background = '#e74c3c';
                    diveBtn.disabled = false;
                    diveBtn.style.opacity = '1';
                    showToast('Deep dive failed. Is curator_server.py running?', 'error');
                });
        };
        
        // Close on overlay click
        overlay.onclick = function(e) {
            if (e.target === overlay) {
                document.body.removeChild(overlay);
            }
        };
    }
    
    function addDeepDiveButton(rank, hashId) {
        // Find the action buttons container for this rank
        var rows = document.querySelectorAll('tbody tr');
        for (var i = 0; i < rows.length; i++) {
            var row = rows[i];
            var rankBadge = row.querySelector('.rank-badge');
            if (rankBadge && rankBadge.textContent === rank.toString()) {
                var actionButtons = row.querySelector('.action-buttons');
                
                // Check if deep dive button already exists
                if (actionButtons.querySelector('.btn-dive')) {
                    return;
                }
                
                // Create deep dive button
                var diveBtn = document.createElement('button');
                diveBtn.className = 'action-btn btn-dive';
                diveBtn.textContent = 'üîñ Deep Dive';
                
                // Check if this is a dry run
                var isDryRun = document.body.getAttribute('data-run-mode') === 'dry-run';
                if (isDryRun) {
                    diveBtn.title = 'Dry run ‚Äî buttons disabled';
                    diveBtn.disabled = true;
                    diveBtn.style.cssText = 'background: #95a5a6; color: white; cursor: not-allowed; opacity: 0.6;';
                } else {
                    diveBtn.title = 'Request deep dive analysis (~30s, costs ~$0.15)';
                    diveBtn.style.cssText = 'background: #f39c12; color: white;';
                    // Use IIFE to capture rank, hashId and diveBtn by value (not reference)
                    diveBtn.onclick = (function(capturedRank, capturedHashId, capturedBtn) {
                        return function() {
                            showDeepDiveModal(capturedRank, capturedHashId, capturedBtn);
                        };
                    })(rank, hashId, diveBtn);
                }
                
                // Insert at the beginning
                actionButtons.insertBefore(diveBtn, actionButtons.firstChild);
                
                // Visual feedback
                diveBtn.style.animation = 'fadeIn 0.3s ease';
                break;
            }
        }
    }
    </script>
    <style>
    @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.9); }
        to { opacity: 1; transform: scale(1); }
    }
    .btn-dive {
        background: #f39c12 !important;
        color: white !important;
    }
    .btn-dive:hover {
        background: #e67e22 !important;
        transform: scale(1.05);
    }
    </style>
</body>
</html>
